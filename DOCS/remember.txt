
Zinsen aus enum analog Buchungsarten

?! Buchungsart: Zinsgutschrift

?! Memory leak: was muss beim öffnen einer Seite jedesmal gemacht werden, was nur einmal?

+ Buchungen:

++ Jahreszinsberechnung
    - alle aktiven Verträge
    - Zeitraum von max(1.1.<jahr>, LetzteZinsberechnung) bis Jahresende
    - Tage (finanzmathematisch) * Zinssatz / (Tage pro Jahr finanzmathematisch)

++ (prio 2) Geldeingang (Kredit erhöhen) =
  tesaurierend
    Zins "bis dato" errechnen, Wert erhöhen, "ZinsenStart Datum" setzten
    erhöhungsbetrag hinzufügen, Vertragsbetrag und Wert erhöhen
    cave: zins f finanzamt ausweisen?
  nicht tesaurierend
    -> geht nicht, neuen Vertrag anlegen


Menüeintrag "Unterstützung"
- "entpersonalisierte" db kopie anlegen
Menüeintrag "Datei"
- Einstellungen (?)
- Backup Kopie anlegen / Backup auf GDrive speichern

* MRU files handling (die letzten geöffneten Dateien öffnen)?
* Fenster Position merken / beim Start setzen (Multi Screen)
* revisit logging: remove dev logging, improve error logging
* P Liste: Spalte "Anzahl Verträge"?

next:

? P Liste r-click Menu anlegen

DONE

Adressen einmaligkeit: Die Kombination aus Vorname, Nachname, Stadt und Straße
muss in der Datenbank einmalig sein (SQL unique)

Vertragsnummer generieren (Claudias Wunsch)
<projektkürzel><jahr>-laufendeNr (m offset)
- unique in der tabelle
- Filterbar

neues Feld f Kreditoren: e-mail
- format validator
- einmaligkeit

!! neues Feld f Kreditoren: Anmerkungen

!! Buchungsarten: enum statt String

- Doku als Writer Dokument

- isValidDb: check colums

?! ausgezahlte Zinsen "merken" zur späteren Anzeige? -> nein. Kann man auch nachträglich berechnen

Buchungen Refactoring:
- weitere Buchungen:
** Kreditor anlegen,-> wird kein Geld bewegt -> kein Beleg (nein, ein Beleg ist immer gut)
** aktiven Vertrag beenden -> done
** passiven Vertrag löschen -> wird kein Geld bewegt -> kein Beleg (nein...)

- neuen Vertrag Buchung prüfen (sqliteAdmin Anzeigefehler?)

?! Buchungen: beim Löschen wird keine Vid geschrieben
!! works as designed: sie wird geschrieben und nach dem löschen durch ref. integ. ge-nullt

++ Vertragsbeendigung
  Zins berechnen und zum Wert hinzufügen
  Wert ausbuchen
  Vertrag deaktivieren / BEENDEN

++ Vertrag anlegen als Beleg speichern (OK)
- dbg: log anzeigen (OK)
* Listen: Click auf Header ändert Sortierung (OK)
- Verträge: Sortierung beim Klick auf TableHeader (OK)
* P Liste: Suchen / Filtern Vorname.Nachname (OK)
- verträge ändern? oder lieber nicht (NOT)
- verträge u Belege pro person auflisten
